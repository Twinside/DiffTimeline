<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Co93A1A1ntent-Type" content="text/html; charset=utf-8"/>
        <title>DiffTimeline</title>
        <link href="static-content/syntax-highlight.css" type="text/css" rel="stylesheet" />
        <link href="static-content/screen.css" type="text/css" rel="stylesheet" />
        <link href="static-content/difftimeline.css" type="text/css" rel="stylesheet" />
        <script language="javascript" type="text/javascript" src="static-content/jquery-1.6.4.min.js"></script>
        <script language="javascript" type="text/javascript" src="static-content/ICanHaz.min.js"></script>
        <script language="javascript" type="text/javascript" src="static-content/underscore-min.js"></script>
        <script language="javascript" type="text/javascript" src="static-content/tinysyntaxhighlighter.js"></script>

        <script id="commit_file" type="text/html">
            <div class="file_{{kind}}">
                <span class="commit_diff_symbol"
                      onclick="application_state.switch_file('{{name}}', '{{hash}}','{{key}}')"></span> {{name}}
            </div>
        </script>

        <script id="commit_file_modification_detailed" type="text/html">
            <div class="modification">
                <span class="commit_diff_symbol"
                      onclick="application_state.switch_file('{{name}}', '{{hash}}', '{{key}}')">~</span> {{name}}
                <div>
                    <pre class="syntax_highlighted"></pre>
                </div>
            </div>
        </script>

        <script id="tree_elem" type="text/html">
            <div class="tree_{{kind}}">
                <span class="commit_diff_symbol"
                      onclick="application_state.switch_file('{{name}}', '{{hash}}', '{{key}}')"></span>
                <span>{{name}}</span>
            </div>
        </script>

        <script id="tree_node" type="text/html">
            <div class="tree_node">
                <div class="node_name">{{name}}</div>
            </div>
        </script>

        <script id="commit_detailed" type="text/html">
            <div class="commit" id="{{key}}">
                <div class="commitinfo">
                    <div class="commitmsg">
                        <span class="id">{{key}}</span><hr />
                        <h4 title="{{message}}">{{{split_message}}}</h4>
                    </div>
                    <span onclick="application_state.send_state_message({action:'fetch_tree', key:'{{key}}'});">
                        Tree
                    </span>
                    <div class="commit_tree">
                    </div>
                    <div class="commit_detail">
                    </div>
                </div>
            </div>
        </script>

        <script id="commit_button_file" type="text/html">
            <a onclick="application_state.switch_commit('{{commit}}')">full commit</a>
        </script>

        <script id="breadcrumbelem" type="text/html">
            <span class="breadcrumb_elem">
                <span>&nbsp;&gt;&gt;</span>
                <a onclick="breadcrumb.click_index({{id}})">{{name}}</a>
            </span>
        </script>
        <script id="commitcircle" type="text/html">
            <div class="delta_commit_circle"
                 onclick="application_state.switch_commit('{{commit}}')">
               <div>{{message}}</div>
            </div>
        </script>
        <script id="commitfile" type="text/html">
            <div class="commit" id="{{key}}">
                <div class="commitinfo">
                    <div class="commitmsg">
                        <span class="id">{{key}}</span><hr />
                        <h4 title="{{message}}">{{short_message}}</h4>
                    </div>

                    <div class="commit_list">
                        {{#path}} {{>commitcircle}} {{/path}}
                    </div>

                    <span class="more_info"
                        onClick="application_state.send_state_message({action:'fetch_detail', key:'{{key}}'});">&#x25bc;
                        </span>
                    <div class="commit_detail"></div>
                </div>

                <div class="file_content">
                    <pre class="syntax_highlighted"></pre>
                </div>
            </div>
        </script>
        <script id="commitfile_huge_path" type="text/html">
            <div class="commit" id="{{key}}">
                <div class="commitinfo">
                    <div class="commitmsg">
                        <span class="id">{{key}}</span><hr />
                        <h4 title="{{message}}">{{short_message}}</h4>
                    </div>

                    <div class="commit_list">
                        {{#path_beg}} {{>commitcircle}} {{/path_beg}}
                        <span class="ellipsis">...</span>
                        {{#path_end}} {{>commitcircle}} {{/path_end}}
                    </div>

                    <span class="more_info"
                        onClick="application_state.send_state_message({action:'fetch_detail', key:'{{key}}'});">&#x25bc;
                        </span>
                    <div class="commit_detail"></div>
                </div>

                <div class="file_content">
                    <pre class="syntax_highlighted"></pre>
                </div>
            </div>
        </script>
        <script language="javascript" type="text/javascript" src="static-content/difftimeline.js"></script>
    </head>
    <body onUnload="leave_server()">
        <div class="message_carret" id="message_display"></div>
        <div class="legend">
            <table>
                <tr>
                    <td><div class="diff_addition">&nbsp;&nbsp;</div></td><td>Addition</td>
                    <td><div class="diff_deletion">&nbsp;&nbsp;</div></td><td>Deletion</td>
                    <td><div class="diff_addition">
                        <div class="diff_deletion">&nbsp;&nbsp;</div></div></td><td>Added then removed</td>
                    <td><div class="diff_deletion">
                        <div class="diff_addition">&nbsp;&nbsp;</div></div></td><td>Removed then added</td>

                </tr>
            </table>
        </div>
        <div class="toolbar">
            <div class="btn_toggleview"
                 onClick="application_state.toggle_diff_full()"
                 title="Switch between compact and full view">&#x25bc;<br/>&#x25b2;</div>
            <div class="btn_returnpast"
                 onClick="application_state.get_previous()"
                 title="Fetch previous version">&lt;</div>
            <div>
                <span class="label">Context size</span><br />
                <textarea readonly="true" rows="1">2</textarea>
                <div>
                    <button type="button"
                            onClick="application_state.increase_context_size()">+</button>
                    <button type="button"
                            onClick="application_state.decrease_context_size()">-</button>
                </div>
            </div>

            <form>
                <table>
                    <tr>
                        <td><small>Syntax<br/>highlight</small></td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="chkHighlight" checked="yes"/></td>
                    </tr>
                </table>
            </form>
        </div>
        <div id="breadcrumb">
        </div>

        <div id="container" class="container" />
        <br/>
        <!--
        <div id="miniatures" class="miniatures">
            &nbsp;
        </div> -->
    </body>
    <!-- Pseudo file created on the fly containing the initial application state-->
    <script language="javascript" type="text/javascript" src="/initial_info.js"></script>
</html>
